webpackJsonp([7],{652:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){return{authState:e.authState}}function r(e){return(0,v.bindActionCreators)({loginUser:b.loginUser,signupUser:b.signupUser},e)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=a(0),c=n(d),p=a(35),h=a(156),f=n(h),g=a(357),m=n(g),y=a(64),E=n(y),v=a(46),b=a(682),C=a(142),w=a(155),S=(n(w),a(160),a(290)),T=(n(S),a(362)),x=(n(T),a(55),a(691)),k=(n(x),a(87)),_=n(k),O=a(63),R=(n(O),a(89)),L={margin:4},P={display:"flex",flexDirection:"column",justifyContent:"center",width:"100%",maxWidth:400,margin:"auto",padding:24},U={display:"flex",flexDirection:"column",justifyContent:"center",width:"100%",maxWidth:800,margin:"auto",padding:24},N={textAlign:"center"},A={display:"flex",alignItems:"center",justifyContent:"center",margin:16,flexDirection:"column"},j=function(e){function t(e){i(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={user:{email:"",password:"",name:""},open:!0,visibility:!0,inputType:"password",emailErrorText:"",passwordErrorText:"",openActive:!0,showLogin:!0,completeOpen:!0},a.onSignupClick=a.onSignupClick.bind(a),a.onForgotClick=a.onForgotClick.bind(a),a.onLoginClick=a.onLoginClick.bind(a),a.handleOpen=a.handleOpen.bind(a),a.handleClose=a.handleClose.bind(a),a.handleOpenActive=a.handleOpenActive.bind(a),a.handleCloseActive=a.handleCloseActive.bind(a),a.handleVisibility=a.handleVisibility.bind(a),a.switchPages=a.switchPages.bind(a),a.handleCompleteClose=a.handleCompleteClose.bind(a),a}return l(t,e),u(t,[{key:"componentWillMount",value:function(){this.props.setProperties("Login",!1,1,"")}},{key:"onSignupClick",value:function(){return 0==this.state.user.email.length?void this.setState({emailErrorText:"This field is required."}):0==this.state.user.password.length?void this.setState({passwordErrorText:"This field is required."}):void this.props.signupUser(this.state.user)}},{key:"onLoginClick",value:function(){return 0==this.state.user.email.length?void this.setState({emailErrorText:"This field is required."}):0==this.state.user.password.length?void this.setState({passwordErrorText:"This field is required."}):void this.props.loginUser(this.state.user)}},{key:"handleOpen",value:function(){this.setState({open:!0})}},{key:"handleClose",value:function(){this.setState({open:!1})}},{key:"handleOpenActive",value:function(){this.setState({openActive:!0})}},{key:"handleCloseActive",value:function(){this.setState({openActive:!1})}},{key:"onForgotClick",value:function(){p.hashHistory.push("/forgot")}},{key:"captureMail",value:function(e){this.state.user.email=e.target.value}},{key:"capturePassword",value:function(e){this.state.user.password=e.target.value}},{key:"captureName",value:function(e){this.state.user.name=e.target.value}},{key:"handleVisibility",value:function(){1==this.state.visibility?this.setState({visibility:!1,inputType:""}):this.setState({visibility:!0,inputType:"password"})}},{key:"switchPages",value:function(){this.setState({showLogin:!this.state.showLogin})}},{key:"handleCompleteClose",value:function(){this.setState({completeOpen:!1}),window.location.reload()}},{key:"render",value:function(){var e=[c.default.createElement(_.default,{label:"Ok",secondary:!0,onTouchTap:this.handleClose})],t=(c.default.createElement(_.default,{label:"Ok",secondary:!0,onTouchTap:this.handleCloseActive}),[c.default.createElement(_.default,{label:"Ok",primary:!0,onTouchTap:this.handleCompleteClose})]);return c.default.createElement("div",{style:U},c.default.createElement("h1",{style:{color:"#FFFFFF",textTransform:"uppercase",margin:20}},c.default.createElement("span",{style:{display:"block"}},c.default.createElement("div",{style:{fontSize:"50px",fontWeight:400,letterSpacing:"35px",textAlign:"center"}},c.default.createElement("span",null,"With Love"))),c.default.createElement("span",{style:{display:"block",fontSize:"15px",marginTop:"8px",fontWeight:300,letterSpacing:"15px",textAlign:"center",lineHeight:2}},"An easy way to express your love")),c.default.createElement("div",{style:{paddingTop:20}},this.state.showLogin?c.default.createElement(C.Card,{style:P,zDepth:2,rounded:!0},c.default.createElement("form",{style:N},c.default.createElement("div",{className:"group"},c.default.createElement(f.default,{ref:"email",hintText:"Email",floatingLabelText:"Email",type:"Email",errorText:this.state.emailErrorText,onChange:this.captureMail.bind(this)})),c.default.createElement("div",{className:"group"},c.default.createElement(f.default,{hintText:"Password ",ref:"password",floatingLabelText:"Password",type:this.state.inputType,errorText:this.state.passwordErrorText,onChange:this.capturePassword.bind(this)})),c.default.createElement("div",{style:A},c.default.createElement(E.default,{onClick:this.onLoginClick,secondary:!0,style:L,disabled:this.props.authState.logging,label:this.props.authState.logging?"Wait...":"Login"}),c.default.createElement(_.default,{secondary:!0,onClick:this.onForgotClick,label:"Forgot password?",style:L}),c.default.createElement(E.default,{onClick:this.switchPages,secondary:!0,style:L,disabled:this.props.authState.logging,label:this.props.authState.logging?"Wait...":"Register"})))):c.default.createElement(C.Card,{style:P,zDepth:2,rounded:!0},c.default.createElement("form",{style:N},c.default.createElement("div",{className:"group"},c.default.createElement(f.default,{hintText:"Jason Doe ",ref:"name",floatingLabelText:"Name",type:"name",errorText:this.state.nameErrorText,onChange:this.captureName.bind(this)})),c.default.createElement("div",{className:"group"},c.default.createElement(f.default,{ref:"email",hintText:"Email",floatingLabelText:"Email",type:"Email",errorText:this.state.emailErrorText,onChange:this.captureMail.bind(this)})),c.default.createElement("div",{className:"group"},c.default.createElement(f.default,{hintText:"Password ",ref:"password",floatingLabelText:"Password",type:this.state.inputType,errorText:this.state.passwordErrorText,onChange:this.capturePassword.bind(this)})),c.default.createElement("div",{style:A},c.default.createElement(E.default,{onClick:this.onSignupClick,secondary:!0,style:L,disabled:this.props.authState.logging,label:this.props.authState.logging?"Wait...":"Register"}),c.default.createElement(E.default,{onClick:this.switchPages,secondary:!0,style:L,disabled:this.props.authState.logging,label:this.props.authState.logging?"Wait...":"Login"}))))),c.default.createElement(m.default,{title:"Error",actions:e,modal:!1,open:!1,onRequestClose:this.handleClose},this.props.authState.errorMsg),c.default.createElement(m.default,{title:"Done",actions:t,modal:!1,open:this.state.completeOpen&&this.props.authState.completed,onRequestClose:this.handleCompleteClose},"You're successfully Registered."))}}]),t}(c.default.Component);t.default=(0,R.connect)(o,r)(j)},682:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){h.LOGIN_SERVER;if(e){var t={email:e.email,password:e.password};return function(e){return e({type:"USER_LOGIN_REQUEST"}),r.default.post(h.LOGIN_SERVER+"/authenticate",t,{headers:{"Content-type":"application/json"}}).then(function(t){t.data.success?(localStorage.setItem("access_token",t.data.token),e({type:"USER_LOGGED_IN",payload:t.data.token}),p.hashHistory.replace("/admin-home"),console.log(t.data.user.active)):p.hashHistory.replace("/admin-login")}).catch(function(t){e({type:"USER_LOGIN_ERROR",payload:t.response.data.message}),console.log(t.response.data)})}}}function s(e){return function(t){if(e){var a={password:e.password,name:e.name,email:e.email};console.log(a),t({type:"USER_LOGIN_REQUEST"}),r.default.post(h.LOGIN_SERVER+"/admin/register",c.default.stringify(a),{headers:{"Content-type":"application/x-www-form-urlencoded"}}).then(function(e){t({type:"USER_SIGNED_UP",payload:e.data.access_token}),console.log(e.data)}).catch(function(e){t({type:"USER_SIGNUP_ERROR",payload:e.response.data.message}),console.log(e.response.data.message)})}}}function l(){return localStorage.removeItem("access_token"),function(e){e({type:"USER_LOGOUT"})}}Object.defineProperty(t,"__esModule",{value:!0}),t.loginUser=i,t.signupUser=s,t.logoutUser=l;var o=a(103),r=n(o),u=a(363),d=(n(u),a(158)),c=n(d),p=a(35),h=a(104)},691:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=a(0),s=n(i),l=a(22),o=n(l),r=a(18),u=n(r),d=function(e){return s.default.createElement(u.default,e,s.default.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}))};d=(0,o.default)(d),d.displayName="ActionVisibility",d.muiName="SvgIcon",t.default=d}});