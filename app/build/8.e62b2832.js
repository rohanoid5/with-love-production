webpackJsonp([8],{653:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),u=n(o),c=a(35),d=(a(46),a(89),a(364),a(103)),f=n(d),h=a(104),p=a(693),m=n(p),y=a(357),v=(n(y),a(87)),g=n(v),b=a(64),E=n(b),C=a(100),k=(n(C),a(99)),S=n(k),x=a(63),_=(n(x),a(54)),w=(n(_),a(355)),N=(n(w),a(152)),O=(n(N),a(156)),R=n(O),j=a(361),F=n(j),T=a(143),M=n(T),I=a(153),P=(n(I),a(101)),L=(n(P),a(102)),D=(n(L),a(88),a(366)),G=n(D),z=a(368),V=n(z),A=a(145),W=n(A),H=a(155),B=(n(H),function(e){function t(e){l(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={open:!1,gender:"Female",relationship:"",closeness:5,name:"",data:[],image:"avatar_system_pic.jpg",file:""},a.addReceiver=a.addReceiver.bind(a),a.handleOpen=a.handleOpen.bind(a),a.handleClose=a.handleClose.bind(a),a.handleChangeGender=a.handleChangeGender.bind(a),a.handleChangeRelationship=a.handleChangeRelationship.bind(a),a.handleCloseness=a.handleCloseness.bind(a),a.handleSubmit=a.handleSubmit.bind(a),a.captureName=a.captureName.bind(a),a.onCloseClick=a.onCloseClick.bind(a),a.captureRelationship=a.captureRelationship.bind(a),a.receiverItemFill=a.receiverItemFill.bind(a),a.selectFile=a.selectFile.bind(a),a}return r(t,e),s(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillMount",value:function(){}},{key:"componentWillReceiveProps",value:function(){}},{key:"onCloseClick",value:function(){c.hashHistory.goBack()}},{key:"captureName",value:function(e){this.state.name=e.target.value}},{key:"captureRelationship",value:function(e){this.state.relationship=e.target.value}},{key:"handleSubmit",value:function(){var e=this;this.setState({uploading:!0});var t=localStorage.getItem("access_token"),a=new FormData;a.append("image",this.state.file),a.append("name",this.state.name),a.append("gender",this.state.gender),a.append("relationship",this.state.relationship),a.append("closeness",this.state.closeness);var n=h.LOGIN_SERVER+"/receiver";f.default.post(n,a,{headers:{Authorization:t}}).then(function(t){t.status>=200&&t.status<300?(e.setState({uploading:!1}),console.log(t.data),c.hashHistory.push("/home")):e.setState({uploading:!1})}).catch(function(t){e.setState({uploading:!1})})}},{key:"handleCloseness",value:function(e,t){this.setState({closeness:t})}},{key:"handleOpen",value:function(){this.setState({open:!0})}},{key:"handleClose",value:function(){this.setState({open:!1})}},{key:"addReceiver",value:function(){this.setState({open:!0})}},{key:"handleChangeGender",value:function(e,t,a){this.setState({gender:a})}},{key:"handleChangeRelationship",value:function(e,t,a){this.setState({relationship:a})}},{key:"receiverItemFill",value:function(e,t){return u.default.createElement(G.default,{key:e._id,receiver:e})}},{key:"selectFile",value:function(e){var t=e.target.files[0];this.setState({file:t})}},{key:"render",value:function(){var e=this;u.default.createElement(g.default,{label:"Cancel",primary:!0,onClick:this.handleClose}),u.default.createElement(g.default,{label:"Add",primary:!0,onClick:this.handleSubmit});return u.default.createElement("div",{className:"container"},u.default.createElement("div",{className:"card"},u.default.createElement("div",{className:"card-header","data-background-color":"orange"},u.default.createElement("h2",{style:{alignItems:"center",display:"flex",fontWeight:350,fontSize:30,justifyContent:"center",textAlign:"center"},className:"title"},"Please select a Receiver")),u.default.createElement("div",{className:"card-content"},u.default.createElement("div",{className:"row center"},u.default.createElement("div",{className:"col-md-6",style:{display:"flex",flexDirection:"column"}},u.default.createElement(R.default,{ref:"name",hintText:"Jane Doe",style:{width:"100%",marginLeft:0},onChange:this.captureName,floatingLabelText:"Name"}),u.default.createElement(R.default,{hintText:"Wife",ref:"relationship",style:{width:"100%",marginLeft:0},onChange:this.captureRelationship,floatingLabelText:"Relationship"}),u.default.createElement(F.default,{floatingLabelText:"Gender",value:this.state.gender,style:{width:"100%",marginLeft:0},selectedMenuItemStyle:{color:"red"},onChange:this.handleChangeGender},u.default.createElement(M.default,{value:"Male",primaryText:"Male"}),u.default.createElement(M.default,{value:"Female",primaryText:"Female"}),u.default.createElement(M.default,{value:"Others",primaryText:"Others"})),u.default.createElement("div",null,u.default.createElement("p",null,u.default.createElement("span",null,"You rated this person in terms of closeness: "),u.default.createElement("span",null,this.state.closeness),u.default.createElement("span",null," out of 10")),u.default.createElement(V.default,{min:1,max:10,step:1,value:this.state.closeness,onChange:this.handleCloseness}))),u.default.createElement("div",{className:"col-md-6"},u.default.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"right"}},u.default.createElement(W.default,{src:this.state.image,size:180,style:{margin:"auto",marginTop:20,marginBottom:20}}),u.default.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",margin:"auto"}},u.default.createElement("p",{style:{fontSize:20,margin:"auto"}},"Upload a picture"),u.default.createElement(S.default,{mini:!0,style:{margin:"0px 4px"}},u.default.createElement(m.default,null),u.default.createElement("input",{type:"file",style:{cursor:"pointer",position:"absolute",top:0,bottom:0,right:0,left:0,width:"100%",opacity:0},accept:"image/png, image/jpeg",onChange:function(t){return e.selectFile(t)}})))))),u.default.createElement("div",{style:{display:"flex",justifyContent:"center"}},u.default.createElement(E.default,{disabled:this.state.uploading,primary:!0,label:"Submit",style:{width:"50%"},onClick:this.handleSubmit})))))}}]),t}(u.default.Component));t.default=B},693:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var l=a(0),i=n(l),r=a(22),s=n(r),o=a(18),u=n(o),c=function(e){return i.default.createElement(u.default,e,i.default.createElement("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"}))};c=(0,s.default)(c),c.displayName="EditorAttachFile",c.muiName="SvgIcon",t.default=c}});